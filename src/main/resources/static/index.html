<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="keywords" content="APKU,APKU课程,A-PKU全国康复师证书查询认证中心,ABA孤独症康复行为干预师证书,感统治疗师证书">
    <meta name="description" content="A-PKU康复人才培养计划现已有《ABA孤独症康复专业进阶课》初级、中级、高级线上课程，通过线上课程考试考核，可以获得ABA孤独症康复初级/中级/高级行为干预师课程证书，进入A-PKU康复人才专业梯队。北大医疗脑健康行为发展教研院与北京大学医学继续教育学院联合开办孤独症康复从业人员教学能力提升高级研修班，由北京大学第六医院主任医师贾美香领衔授课，并有北京大学基础医学院张嵘副教授、北京大学公共卫生学院王晓莉教授以及国际认证行为分析师BCBA周雅文、国际认证助理行为分析师BCaBA吴丹丹联合讲授，旨在提高行业人员实操干预能力。">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
    <title>A-PKU全国康复师证书查询认证中心-ABA孤独症康复行为干预师证书-感统治疗师证书-北大医疗脑健康行为发展教研院</title>
    <style type="text/css">
        body {
            background-color: #999;
        }
    </style>
    <link rel="stylesheet" href="bootstrap-4.3.1/css/bootstrap.min.css">
    <script src="jquery/jquery-3.4.1.min.js"></script>
    <script src="bootstrap-4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
<div >
    <!--<h3>证书查询服务</h3>-->
    <!--<p>Resize this responsive page to see the effect!</p>-->
    <div class="tab-content">
        <img src="/img/head.jpg" width="100%" style="padding:0px 0px 25px 0px">
    </div>
</div>
<div class="container">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#certificateDownloadByPhone">手机查询</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#certificateQueryBySerialNum">其他方式</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div id="certificateDownloadByPhone" class="container tab-pane active"><br>
            <h4>请输入手机号及手机验证码</h4>
            <label for="phone" class="sr-only">phone number</label>
            <input type="tel" id="phone" class="form-control" placeholder="手机号" onkeyup="checkPhone()"
                   onblur="checkPhone()" autofocus>
            <br/>

            <div class="input-group">
                <label for="code" class="sr-only">verification code</label>
                <input type="text" id="code" class="form-control" maxlength="4" onkeyup="checkCode()" onblur="checkCode()"
                       placeholder="验证码（有效期5分钟）">
                <button type="submit" class="btn btn-primary input-group-addon" onclick="getCode(this)" disabled
                        id="J_getCode">获取验证码
                </button>
                <button type="reset" class="btn btn-small input-group-addon" id="J_resetCode" style="display:none;">
                    <span id="J_second">60</span>秒后重发
                </button>
            </div>

            <br/>
            <button class="btn btn-lg btn-primary btn-block" onclick="getDownloadURL()" type="submit" disabled
                    id="commitBtn">获取证书
            </button>
        </div>
        <div id="certificateQueryBySerialNum" class="container tab-pane fade"><br>
            <h4>请输入证书编号或身份证号</h4>
            <form name="queryForm" action="/cert/queryCertificateInfo" method="post">
            <div class="input-group">
                <input type="text" id="serialNum" name="serialNum" class="form-control"
                       placeholder="证书编号或身份证号"/>
                <button class="btn btn-primary input-group-addon" type="button" onclick="queryCertificateInfo()">查询</button>
            </div>
                <p style="padding-top: 20px"><b style="color: red">*</b> 孤独症康复专业先修课学员暂不支持身份证号查询证书功能。</p>
            </form>
            <div style="margin-top:50px" >
                <ul class="list-group list-group-flush" id="certificateInfo" style="display: none">
                    <li class="list-group-item  justify-content-between align-items-center">
                        姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名：
                        <span name="certificateInfo.userName">姓名</span>
                    </li>
                    <li class="list-group-item  justify-content-between align-items-center">
                        证书编号：
                        <span name="certificateInfo.serialNum">证书编号</span>
                    </li>
                    <li class="list-group-item  justify-content-between align-items-center">
                        证书名称：
                        <span name="certificateInfo.certificateName">证书名称</span>
                    </li>
                    <li class="list-group-item  justify-content-between align-items-center">
                        发证时间：
                        <span name="certificateInfo.issueTime">发证时间</span>
                    </li>
                    <li class="list-group-item  justify-content-between align-items-center">
                        发证单位：
                        <span name="certificateInfo.issuingUnit">发证单位</span>
                    </li>
                </ul>
                <div class="text-center" id="noCertificateInfo" style="display: none">
                    <p>没有找到该证书相关信息！</p>
                </div>
            </div>
        </div>
    </div>
    <div class="justify-content-between align-items-center" style="padding: 10px 10px">
        <img src="/img/tit_title.jpg" width="100%" onclick="adClick(5)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_title.jpg" width="100%" >
    </div>
    <!-- <div class="justify-content-between align-items-center">
            <img src="/img/ad_coupon.png" width="100%" style="padding:0px 25px" onclick="adClick(4)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_junior.jpg" width="100%" style="padding:5px 25px" onclick="adClick(1)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_intermediate.jpg" width="100%" style="padding:5px 25px" onclick="adClick(2)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_senior.jpg" width="100%" style="padding:5px 25px" onclick="adClick(3)">
    </div> -->
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_102.jpg" width="100%" style="padding:5px 25px" onclick="adClick(102)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_104.jpg" width="100%" style="padding:5px 25px" onclick="adClick(104)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_101.jpg" width="100%" style="padding:5px 25px" onclick="adClick(101)">
    </div>
    <div class="justify-content-between align-items-center">
        <img src="/img/ad_103.jpg" width="100%" style="padding:5px 25px" onclick="adClick(103)">
    </div>

</div>

<script>
    /*获取验证码*/
    var isPhone = 1;
    var existPhone = 0;
    function getCode(e) {
        if (isPhone) {
            // 发请求至后台
            $.ajax({
                url: "/cert/getVerificationCode",
                data: {"phone": $('#phone').val()},
                dataType: "json",
                method: "POST"
            }).done(function (msg) {
                console.log(msg);
                if (msg.code == 0) {
                    existPhone = 1;
                    resetCode(); //倒计时
                } else {
                    existPhone = 0;
                    alert(msg.message);
                }
            });

        } else {
            $('#phone').focus();
        }
    }

    function adClick(level) {
        $.ajax({
            url: "/cert/adClick",
            data: {
                "userQry": "homePage",
                "level": level
            },
            dataType: "json",
            method: "POST"
        }).done(function (msg) {
            if (msg.code == 0) {
                location.href = msg.data;
            }
        });
    }

    //验证手机号码
    function checkPhone() {
        var phone = $('#phone').val();
        isPhone = 1;
        if (phone == '' || !(/^1[3456789]\d{9}$/.test(phone))) {
            isPhone = 0;
            $("#J_getCode").attr("disabled", "true");
        } else {
            $("#J_getCode").removeAttr("disabled");
        }
    }

    //验证手机号码
    function checkCode() {
        var phone = $('#phone').val();
        if (phone == '' || !(/^1[3456789]\d{9}$/.test(phone))) {
            $("#commitBtn").attr("disabled", "true");
        } else {
            if ((/^\d{4,}$/.test($("#code").val())) && existPhone) {
                $("#commitBtn").removeAttr("disabled");
            } else {
                $("#commitBtn").attr("disabled", "true");
            }
        }
    }
    //倒计时
    function resetCode() {
        var second = 60;
        $('#J_getCode').hide();
        $('#J_second').html(second);
        $('#J_resetCode').show();

        var timer = null;
        timer = setInterval(function () {
            second -= 1;
            if (second > 0) {
                $('#J_second').html(second);
            } else {
                clearInterval(timer);
                $('#J_getCode').show();
                $('#J_resetCode').hide();
            }
        }, 1000);
    }
    // 下载证书图片
    function getDownloadURL() {
        // 发请求至后台
        $.ajax({
            url: "/cert/getDownloadURL",
            data: {phone: $('#phone').val(), verificationCode: $('#code').val()},
            dataType: "json",
            method: "POST"
        }).done(function (msg) {
            if (msg.code == 0) {
                window.location.href = msg.data;
            } else {
                alert(msg.message);
            }
        });
    }
    // 查询证书信息
    function queryCertificateInfo() {
        if($('#serialNum').val() == ""){
            alert("证书编号或身份证号不能为空！")
        }else {
            // 发请求至后台
            document.queryForm.submit();
        }
    }
</script>
</body>
</html>
